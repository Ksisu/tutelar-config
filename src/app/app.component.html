<div class="container">
  <mat-accordion>
    <app-providers
      [expanded]="step === 0"
      (nextStep)="nextStep()"
      (opened)="setStep(0)"
      (selectedProviders)="selectedProviders = $event"></app-providers>
    <app-password-difficulty-checker
      [expanded]="step === 1"
      (nextStep)="nextStep()"
      (opened)="setStep(1)"
      [selectedProviders]="selectedProviders"
      (disabled)="modulesDisabledState[1] = $event"
    ></app-password-difficulty-checker>
    <app-email
      [expanded]="step === 2"
      (nextStep)="nextStep()"
      (opened)="setStep(2)"
      [selectedProviders]="selectedProviders"
      (disabled)="modulesDisabledState[2] = $event"
      (value)="emailServiceValue = $event"
    ></app-email>
    <app-amqp
      [expanded]="step === 3"
      (nextStep)="nextStep()"
      (opened)="setStep(3)"
      [selectedProviders]="selectedProviders"
      [emailServiceValue]="emailServiceValue"
      (disabled)="modulesDisabledState[3] = $event"
    ></app-amqp>
    <app-ldap
      [expanded]="step === 4"
      (nextStep)="nextStep()"
      (opened)="setStep(4)"
      [selectedProviders]="selectedProviders"
      (disabled)="modulesDisabledState[4] = $event"
    ></app-ldap>
    <app-oauth2
      [expanded]="step === 5"
      (nextStep)="nextStep()"
      (opened)="setStep(5)"
      [selectedProviders]="selectedProviders"
      (disabled)="modulesDisabledState[5] = $event"
    ></app-oauth2>
    <app-oauth2-provider
      [name]="'GitHub'"
      [defaultScopes]="'read:user,gist'"
      [expanded]="step === 6"
      (nextStep)="nextStep()"
      (opened)="setStep(6)"
      [selectedProviders]="selectedProviders"
      (disabled)="modulesDisabledState[6] = $event"
    ></app-oauth2-provider>
    <app-oauth2-provider
      [name]="'Facebook'"
      [defaultScopes]="'public_profile'"
      [expanded]="step === 7"
      (nextStep)="nextStep()"
      (opened)="setStep(7)"
      [selectedProviders]="selectedProviders"
      (disabled)="modulesDisabledState[7] = $event"
    ></app-oauth2-provider>
    <app-oauth2-provider
      [name]="'Google'"
      [defaultScopes]="'openid,email,profile'"
      [expanded]="step === 8"
      (nextStep)="nextStep()"
      (opened)="setStep(8)"
      [selectedProviders]="selectedProviders"
      (disabled)="modulesDisabledState[8] = $event"
    ></app-oauth2-provider>
  </mat-accordion>
  <app-totp
    [expanded]="step === 9"
    (nextStep)="nextStep()"
    (opened)="setStep(9)"
    [selectedProviders]="selectedProviders"
    (disabled)="modulesDisabledState[9] = $event"
  ></app-totp>
  <app-database
    [expanded]="step === 10"
    (nextStep)="nextStep()"
    (opened)="setStep(10)"
  ></app-database>
</div>
